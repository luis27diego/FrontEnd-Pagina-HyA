"use strict";(self.webpackChunknombre_del_sitio=self.webpackChunknombre_del_sitio||[]).push([[8032],{2246:(e,a,s)=>{s.d(a,{A:()=>t});var n=s(6540),i=s(6347),r=s(4848);const t=e=>{let{onLogin:a}=e;const[s,t]=(0,n.useState)(!1),[o,l]=(0,n.useState)(""),[c,d]=(0,n.useState)(""),[h,u]=(0,n.useState)(""),[m,p]=(0,n.useState)(""),[j,x]=(0,n.useState)(""),g=(0,i.W6)(),f=async e=>{e.preventDefault(),p(""),x("");const n=s?"https://web-production-10154.up.railway.app/auth/register":"https://web-production-10154.up.railway.app/auth/login",i=s?{nombre:o,email:c,"contrase\xf1a":h}:{email:c,"contrase\xf1a":h};try{const e=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}),r=await e.json();if(e.ok)localStorage.setItem("token",r.token),localStorage.setItem("rol",r.rol),s?(x("Registro exitoso. \xa1Bienvenido!"),l(""),d(""),u(""),setTimeout((()=>{x("")}),3e3)):"admin"===r.rol?(a(),g.push("/FrontEnd-Pagina-HyA/admin")):p("No tienes permisos de administrador");else{if(403!==e.status)throw new Error(r.error||"Error en la autenticaci\xf3n");p(r.error)}}catch(r){p(r.message)}};return(0,r.jsxs)("div",{className:"container "+(s?"active":""),id:"container",children:[(0,r.jsx)("div",{className:"form-container sign-up",children:(0,r.jsxs)("form",{onSubmit:f,children:[(0,r.jsx)("h1",{children:"Crear Cuenta"}),(0,r.jsxs)("div",{className:"social-icons",children:[(0,r.jsx)("a",{href:"#",className:"icon",children:(0,r.jsx)("i",{className:"fa-brands fa-google-plus-g"})}),(0,r.jsx)("a",{href:"#",className:"icon",children:(0,r.jsx)("i",{className:"fa-brands fa-facebook-f"})}),(0,r.jsx)("a",{href:"#",className:"icon",children:(0,r.jsx)("i",{className:"fa-brands fa-github"})}),(0,r.jsx)("a",{href:"#",className:"icon",children:(0,r.jsx)("i",{className:"fa-brands fa-linkedin-in"})})]}),(0,r.jsx)("span",{children:"o usa tu email para registrarte"}),(0,r.jsx)("input",{type:"text",placeholder:"Nombre",value:o,onChange:e=>l(e.target.value),required:!0}),(0,r.jsx)("input",{type:"email",placeholder:"Email",value:c,onChange:e=>d(e.target.value),required:!0}),(0,r.jsx)("input",{type:"password",placeholder:"Contrase\xf1a",value:h,onChange:e=>u(e.target.value),required:!0}),(0,r.jsx)("button",{className:"botones",type:"submit",children:"Reg\xedstrate"}),m&&(0,r.jsx)("p",{style:{color:"red"},children:m})," ",j&&(0,r.jsx)("p",{style:{color:"green"},children:j})]})}),(0,r.jsx)("div",{className:"form-container sign-in",children:(0,r.jsxs)("form",{onSubmit:f,children:[(0,r.jsx)("h1",{children:"Iniciar Sesi\xf3n"}),(0,r.jsxs)("div",{className:"social-icons",children:[(0,r.jsx)("a",{href:"#",className:"icon",children:(0,r.jsx)("i",{className:"fa-brands fa-google-plus-g"})}),(0,r.jsx)("a",{href:"#",className:"icon",children:(0,r.jsx)("i",{className:"fa-brands fa-facebook-f"})}),(0,r.jsx)("a",{href:"#",className:"icon",children:(0,r.jsx)("i",{className:"fa-brands fa-github"})}),(0,r.jsx)("a",{href:"#",className:"icon",children:(0,r.jsx)("i",{className:"fa-brands fa-linkedin-in"})})]}),(0,r.jsx)("span",{children:"o usa tu email y contrase\xf1a"}),(0,r.jsx)("input",{type:"email",placeholder:"Email",value:c,onChange:e=>d(e.target.value),required:!0}),(0,r.jsx)("input",{type:"password",placeholder:"Contrase\xf1a",value:h,onChange:e=>u(e.target.value),required:!0}),(0,r.jsx)("a",{href:"#",children:"\xbfOlvidaste tu contrase\xf1a?"}),(0,r.jsx)("button",{className:"botones",type:"submit",children:"Iniciar Sesi\xf3n"}),m&&(0,r.jsx)("p",{style:{color:"red"},children:m})," "]})}),(0,r.jsx)("div",{className:"toggle-container",children:(0,r.jsxs)("div",{className:"toggle",children:[(0,r.jsxs)("div",{className:"toggle-panel toggle-left",children:[(0,r.jsx)("h1",{children:"\xa1Bienvenido de vuelta!"}),(0,r.jsx)("p",{children:"Para mantenerte conectado con nosotros, inicia sesi\xf3n con tus datos personales"}),(0,r.jsx)("button",{className:"hidden botones",onClick:()=>t(!1),children:"Iniciar Sesi\xf3n"})]}),(0,r.jsxs)("div",{className:"toggle-panel toggle-right",children:[(0,r.jsx)("h1",{children:"\xa1Hola, amigo!"}),(0,r.jsx)("p",{children:"Ingresa tus datos personales y empieza tu viaje con nosotros"}),(0,r.jsx)("button",{className:"hidden botones",onClick:()=>t(!0),children:"Reg\xedstrate"})]})]})})]})}},514:(e,a,s)=>{s.r(a),s.d(a,{default:()=>o});var n=s(6540),i=s(6347),r=s(2246),t=s(4848);const o=()=>{const[e,a]=(0,n.useState)(!1),[s,o]=(0,n.useState)(!0),l=(0,i.W6)();return(0,n.useEffect)((()=>{localStorage.getItem("token")&&(a(!0),l.push("/admin")),o(!1)}),[]),s?(0,t.jsx)("div",{children:"Cargando..."}):(0,t.jsx)("div",{children:e?(0,t.jsx)("div",{children:"Redirigiendo al panel de administraci\xf3n..."}):(0,t.jsx)(r.A,{onLoginSuccess:()=>a(!0)})})}}}]);